<div class="component-intro">    
    <h4 class="component-intro__description">
        Create new group...
    </h4>
</div>

<div class="create-group">
    <div class="create-group__group-name">
        <div class="create-group__group-name--text">New group name</div>
        <div class="create-group__group-name--input">
            <input type="text" name="groupNameText" id="groupNameText">
        </div>
    </div>

    <div class="create-group__input">

        <div class="create-group__text">
            
            <div class="create-group__text--textbox">
                <textarea name="groupInputBox" id="groupInputBox" class="create-group__text--textbox--input" placeholder="Paste your class data here to add to the group... For the best results make the top line your data titles, then each new line a new subject (student, employee etc) separating the data with commas... 'Alex,Bunting,Alex,alex@reportwriter.com,Other Data' would be a good example for one line."></textarea>
            </div>
            <div class="create-group__text--submit">
                <div class="create-group__text--header-check">
                    <input type="checkbox" name="groupInputHeaderBox" id="groupInputHeaderBox" [(ngModel)]="headerRow" checked>
                    <label for="groupInputHeaderBox">Top row is header text (recommended!)</label>
                </div>
                <button class="create-group__text--submit--button" (click)="generateUserData()">Create Group</button>
            </div>
        </div>

        <div class="create-group__or">
            or...
        </div>

        <div class="create-group__drop" draggable="true">
            <div class="create-group__drop--text">
                Drag CSV file here...
            </div>
        </div>
    </div>

    <div class="create-group__data" *ngIf="userData">

        <table class="create-group__data--table">
            <thead>
                <tr class="create-group__data--row create-group__data--header">
                    <td class="create-group__data--cell" *ngFor="let key of keys; let i = index">
                        <div class="create-group__data--cell--header">
                            <div (keyup.enter)="columnValueChange(i, $event)" (blur)="columnValueChange(i, $event)" contenteditable="true">{{ key }}</div>
                            <div class="create-group__data--buttons create-group__data--buttons-remove tooltipped" (click)="deleteColumn(i)">&#10006; <div class="tooltip">Delete this column (cannot be reversed)</div></div>
                        </div>
                    </td> 
                    <td class="create-group__data--cell">
                        <div class="create-group__data--buttons create-group__data--buttons-addcol tooltipped" (click)="addColumn()">&#10010; <div class="tooltip">Add a new column</div></div>
                    </td>
                </tr>                
            </thead>
            <tbody>
                <tr class="create-group__data--row create-group__data--data" *ngFor="let row of userData; let i = index">
                    <td class="create-group__data--cell" *ngFor="let user of row | keyvalue : returnZero" (blur)="userValueChange(i, user.key, $event)" (keyup.enter)="userValueChange(i, user.key, $event)" contenteditable="true">{{ user.value }}</td>
                    <td class="create-group__data--cell">
                        <div class="create-group__data--buttons create-group__data--buttons-remove tooltipped" (click)="removeUser(i)">&#10006; <div class="tooltip">Delete this user</div></div>
                    </td> 
                </tr>              
            </tbody>
        </table>

    </div>

</div>